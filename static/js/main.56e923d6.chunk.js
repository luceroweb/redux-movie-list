(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{90:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(26),c=r(58),a=r(6),s=r(19),i=r.n(s),o=r(0),l=r(23),u=r(16),j=r(11),d=r(13),b=r(24),m=r(3),h=function(e){var t=e.movieList,r=e.getMovieList,n=e.removeMovieFromList;return Object(o.useEffect)((function(){r()}),[r]),Object(m.jsx)(l.a,{children:Object(m.jsx)(u.a,{children:t?t.list.map((function(e){return Object(m.jsx)(j.a,{xs:12,md:6,lg:3,className:"mb-4",children:Object(m.jsxs)(d.a,{className:"h-100",children:[Object(m.jsx)(d.a.Img,{variant:"top",src:"N/A"!==e.Poster?e.Poster:"/redux-movie-list/images/popcornPoster.jpg",alt:"".concat(e.Title," poster")}),Object(m.jsx)(d.a.Body,{className:"pb-0",children:Object(m.jsx)(d.a.Title,{children:e.Title})}),Object(m.jsx)(d.a.Footer,{className:"bg-white border-0 pt-0 pb-3",children:Object(m.jsxs)(b.a,{variant:"danger",onClick:function(){return n(e)},children:[Object(m.jsx)("i",{className:"bi bi-bookmark-dash-fill"}),"\xa0 Remove From List"]})})]})},e.imdbID)})):Object(m.jsx)(u.a,{children:Object(m.jsxs)(j.a,{className:"text-center",children:[Object(m.jsxs)("p",{className:"text-secondary",children:["You haven't added any movies yet. ",Object(m.jsx)("br",{}),"First ",Object(m.jsx)("a",{href:"/redux-movie-list/",children:"searh for a movie"}),', then click "Add To List".']}),Object(m.jsx)("img",{src:"/redux-movie-list/images/popcornPoster.jpg",alt:"",style:{maxWidth:"300px"}})]})})})})},p=h=Object(n.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(h),x=r(18),O=r.n(x),v=r(28),f=r(35),g=r(15),y=function(e){for(var t=e.searchResults,r=e.currentPage,n=e.setCurrentPage,c=t.totalResults?Math.ceil(t.totalResults/10):[],a=[],s=0;s<c;s++)a.push({count:s+1});var i=a.slice(0,2),o=r>3?[Object(m.jsx)(g.a.Ellipsis,{disabled:!0},"firstThreeDots")]:[],l=r>0?a.slice(Math.max(r-2,2),Math.min(r+1,c-2)):[],u=r<c-2?[Object(m.jsx)(g.a.Ellipsis,{disabled:!0},"lastThreeDots")]:[],j=a.slice(-2),d=function(e){return e.map((function(e){var t=e.count;return Object(m.jsx)(g.a.Item,{disabled:t===r,onClick:function(){return n(t)},children:t},t)}))},b=[].concat(d(i),o,d(l),u,d(j));return Object(m.jsxs)("div",{children:[c>1&&Object(m.jsxs)(g.a,{className:"justify-content-center",children:[Object(m.jsx)(g.a.First,{disabled:1===r,onClick:function(){return n(1)}},"first"),Object(m.jsx)(g.a.Prev,{disabled:1===r,onClick:function(){return n(r-1)}},"previous"),Object(m.jsxs)(g.a.Item,{disabled:!0,children:["Page ",r," of ",c]}),Object(m.jsx)(g.a.Next,{disabled:r===c,onClick:function(){return n(r+1)}},"next"),Object(m.jsx)(g.a.Last,{disabled:r===c,onClick:function(){return n(c)}},"last")]}),c>1&&Object(m.jsx)(g.a,{className:"justify-content-center",children:c>7?b:d(a)})]})},I=r(53),T=r(54),L=r(40),N=r.n(L),S="19c7ac68",k=function(){function e(){Object(I.a)(this,e)}return Object(T.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e?N.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(S)).then((function(e){return e.data})).catch((function(e){return console.error(e)})):null}},{key:"getMovieById",value:function(e){return N.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(S)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),M=r(43),w=r(55),E=function(e){var t=e.onSearch,r=e.setTitle;return Object(m.jsx)(M.a,{inline:!0,onSubmit:function(e){e.preventDefault(),t()},children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(j.a,{sm:9,children:Object(m.jsx)(w.a,{className:"form-group mb-3",children:Object(m.jsx)(M.a.Control,{type:"text",id:"movieTitle",name:"movieTitle",placeholder:"Search for a movie, show, or episode by name...",onChange:function(e){return r(e.target.value)},required:!0})})}),Object(m.jsx)(j.a,{sm:3,children:Object(m.jsx)(b.a,{type:"submit",className:"w-100 mb-3",children:"Search"})})]})})},_=function(e){var t=e.addMovieToList,r=new k,n=Object(o.useState)(),c=Object(f.a)(n,2),a=c[0],s=c[1],i=Object(o.useState)(),h=Object(f.a)(i,2),p=h[0],x=h[1],g=Object(o.useState)(1),I=Object(f.a)(g,2),T=I[0],L=I[1],N=function(){var e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMoviesByTitle(p,T);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=5;break}return L(1),e.next=4,N();case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(t),N();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(O.a.mark((function e(n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMovieById(n);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(E,{onSearch:S,setTitle:x}),a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{children:a.Search.map((function(e){return Object(m.jsx)(j.a,{xs:12,md:6,lg:3,className:"mb-4",children:Object(m.jsxs)(d.a,{className:"h-100",children:[Object(m.jsx)(d.a.Img,{variant:"top",src:"N/A"!==e.Poster?e.Poster:"/redux-movie-list/images/popcornPoster.jpg",alt:"".concat(e.Title," poster")}),Object(m.jsx)(d.a.Body,{className:"pb-0",children:Object(m.jsx)(d.a.Title,{children:e.Title})}),Object(m.jsx)(d.a.Footer,{className:"bg-white border-0 pt-0 pb-3",children:Object(m.jsxs)(b.a,{variant:"success",onClick:function(){return w(e.imdbID)},children:[Object(m.jsx)("i",{className:"bi bi-bookmark-plus"}),"\xa0 Add To List"]})})]})},e.imdbID)}))}),Object(m.jsx)(u.a,{children:Object(m.jsx)(j.a,{children:Object(m.jsx)(y,{searchResults:a,currentPage:T,setCurrentPage:M})})})]}):Object(m.jsx)(u.a,{children:Object(m.jsxs)(j.a,{className:"text-center",children:[Object(m.jsx)("p",{className:"text-secondary",children:"Use the search bar above to begin"}),Object(m.jsx)("img",{src:"/redux-movie-list/images/popcornPoster.jpg",alt:"",style:{maxWidth:"300px"}})]})})]})},D=_=Object(n.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(_),P=r(22),C=r(56),R=function(e){return function(e){return function(t){console.group(t.type),console.info("dispatching",t);var r=e(t);return console.groupEnd(),r}}},F=function(e){return function(t,r,n){return e((function(e,r){return t(e,r)}),r,n)}},B=r(57),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var r=localStorage.getItem("movieList");return r?JSON.parse(r):e;case"ADD_MOVIE_TO_LIST":var n=localStorage.getItem("movieList");return n?(n=JSON.parse(n)).list.push(t.payload):n={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(n)),n;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),a=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return a.length?(c.list=a,localStorage.setItem("movieList",JSON.stringify(c))):localStorage.removeItem("movieList"),c;default:return e}},J=Object(P.combineReducers)({movieListReducer:V});var A=r(29),W=r(34),G=function(){return Object(m.jsx)(A.a,{bg:"light",fixed:"top",expand:"sm",children:Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(A.a.Brand,{href:"/redux-movie-list/",children:[Object(m.jsx)("img",{src:"/redux-movie-list/logo192.png",width:"30",height:"30",alt:"",className:"d-inline-block align-top mr-2"}),"Movie Database"]}),Object(m.jsx)(A.a.Toggle,{}),Object(m.jsx)(A.a.Collapse,{children:Object(m.jsxs)(W.a,{children:[Object(m.jsx)(W.a.Link,{href:"/redux-movie-list/",children:"Home"}),Object(m.jsx)(W.a.Link,{href:"/redux-movie-list/movie-list",children:"Movie List"})]})})]})})};r(89),r(90);i.a.render(Object(m.jsx)(n.a,{store:function(e){var t=[R,C.a],r=[P.applyMiddleware.apply(void 0,t),F];return Object(P.createStore)(J,e,B.composeWithDevTools.apply(void 0,r))}(),children:Object(m.jsxs)(c.a,{children:[Object(m.jsx)(G,{}),Object(m.jsxs)(a.c,{children:[Object(m.jsx)(a.a,{exact:!0,path:"/redux-movie-list/",component:D}),Object(m.jsx)(a.a,{exact:!0,path:"/redux-movie-list/movie-list",component:p})]})]})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.56e923d6.chunk.js.map