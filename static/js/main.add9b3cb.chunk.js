(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{89:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(23),c=n(57),i=n(6),a=n(16),s=n.n(a),o=n(0),l=n(20),u=n(21),j=n(14),d=n(11),b=n(22),m=n(4),h=function(e){var t=e.movieList,n=e.getMovieList,r=e.removeMovieFromList;return Object(o.useEffect)((function(){n()}),[n]),Object(m.jsxs)(l.a,{children:[Object(m.jsx)("h1",{children:"My Movie List"}),Object(m.jsx)(u.a,{children:t&&t.list&&t.list.map((function(e){return Object(m.jsx)(j.a,{xs:12,md:6,lg:3,className:"mb-4",children:Object(m.jsxs)(d.a,{className:"h-100",children:[Object(m.jsx)(d.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(m.jsx)(d.a.Body,{className:"pb-0",children:Object(m.jsx)(d.a.Title,{children:e.Title})}),Object(m.jsx)(d.a.Footer,{className:"bg-white border-0 pt-0 pb-3",children:Object(m.jsxs)(b.a,{variant:"danger",onClick:function(){return r(e)},children:[Object(m.jsx)("i",{class:"bi bi-bookmark-dash-fill"}),"\xa0 Remove From List"]})})]})},e.imdbID)}))})]})},p=h=Object(r.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(h),O=n(25),x=n.n(O),v=n(38),f=n(30),g=n(52),y=n(53),I=n(39),L=n.n(I),S="19c7ac68",M=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return L.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(S)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return L.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(S)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),T=n(42),w=n(54),N=function(e){var t=e.onSearch,n=Object(o.useState)(),r=Object(f.a)(n,2),c=r[0],i=r[1];return Object(m.jsx)(T.a,{inline:!0,onSubmit:function(e){e.preventDefault(),t(c)},children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(j.a,{sm:9,children:Object(m.jsx)(w.a,{className:"form-group mb-3",children:Object(m.jsx)(T.a.Control,{type:"text",id:"movieTitle",name:"movieTitle",placeholder:"Search for a movie, show, or episode by name...",onChange:function(e){return i(e.target.value)},required:!0})})}),Object(m.jsx)(j.a,{sm:3,children:Object(m.jsx)(b.a,{type:"submit",className:"w-100 mb-3",children:"Search"})})]})})},k=function(e){var t=e.addMovieToList,n=new M,r=Object(o.useState)(),c=Object(f.a)(r,2),i=c[0],a=c[1],s=function(){var e=Object(v.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMoviesByTitle(t);case 2:r=e.sent,a(r.Search);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(v.a)(x.a.mark((function e(r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMovieById(r);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(N,{onSearch:s}),Object(m.jsx)(u.a,{children:i?i.map((function(e){return Object(m.jsx)(j.a,{xs:12,md:6,lg:3,className:"mb-4",children:Object(m.jsxs)(d.a,{className:"h-100",children:[Object(m.jsx)(d.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(m.jsx)(d.a.Body,{className:"pb-0",children:Object(m.jsx)(d.a.Title,{children:e.Title})}),Object(m.jsx)(d.a.Footer,{className:"bg-white border-0 pt-0 pb-3",children:Object(m.jsxs)(b.a,{variant:"success",onClick:function(){return h(e.imdbID)},children:[Object(m.jsx)("i",{class:"bi bi-bookmark-plus"}),"\xa0 Add To List"]})})]})},e.imdbID)})):Object(m.jsxs)(j.a,{className:"text-center",children:[Object(m.jsx)("p",{className:"text-secondary",children:"Use the search bar above to begin"}),Object(m.jsx)("img",{src:"/redux-movie-list/images/popcornPoster.jpg",alt:"",style:{maxWidth:"300px"}})]})})]})},_=k=Object(r.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(k),E=n(19),D=n(55),B=function(e){return function(e){return function(t){console.group(t.type),console.info("dispatching",t);var n=e(t);return console.groupEnd(),n}}},R=function(e){return function(t,n,r){return e((function(e,n){return t(e,n)}),n,r)}},V=n(56),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var n=localStorage.getItem("movieList");return n?JSON.parse(n):e;case"ADD_MOVIE_TO_LIST":var r=localStorage.getItem("movieList");return r?(r=JSON.parse(r)).list.push(t.payload):r={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(r)),r;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),i=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return i.length?(c.list=i,localStorage.setItem("movieList",JSON.stringify(c))):localStorage.removeItem("movieList"),c;default:return e}},J=Object(E.combineReducers)({movieListReducer:F});var C=n(26),A=n(33),P=function(){return Object(m.jsx)(C.a,{bg:"light",fixed:"top",expand:"sm",children:Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(C.a.Brand,{href:"/redux-movie-list/",children:[Object(m.jsx)("img",{src:"/redux-movie-list/logo192.png",width:"30",height:"30",alt:"",className:"d-inline-block align-top mr-2"}),"Movie Database"]}),Object(m.jsx)(C.a.Toggle,{}),Object(m.jsx)(C.a.Collapse,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(A.a.Link,{href:"/redux-movie-list/",children:"Home"}),Object(m.jsx)(A.a.Link,{href:"/redux-movie-list/movie-list",children:"Movie List"})]})})]})})};n(88),n(89);s.a.render(Object(m.jsx)(r.a,{store:function(e){var t=[B,D.a],n=[E.applyMiddleware.apply(void 0,t),R];return Object(E.createStore)(J,e,V.composeWithDevTools.apply(void 0,n))}(),children:Object(m.jsxs)(c.a,{children:[Object(m.jsx)(P,{}),Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/redux-movie-list/",component:_}),Object(m.jsx)(i.a,{exact:!0,path:"/redux-movie-list/movie-list",component:p})]})]})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.add9b3cb.chunk.js.map